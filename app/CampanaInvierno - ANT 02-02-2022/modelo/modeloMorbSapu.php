<?php

class claseMorbSapu
{

	private $desde;
	private $hasta;
	private $centro;

	public function getDesde(){
		return $this->desde;
	}

	public function setDesde($desde){
		$this->desde = $desde;
	}

	public function getHasta(){
		return $this->hasta;
	}

	public function setHasta($hasta){
		$this->hasta = $hasta;
	}

	public function getCentro(){
		return $this->centro;
	}

	public function setCentro($centro){
		$this->centro = $centro;
	}

	function obtenerDataFinal($bd){
		$i=0;
		$data = Array();
		$sql="CALL OBTENER_MORBILIDAD_SAPUU('{$this->getDesde()}','{$this->getHasta()}',{$this->getCentro()})";
		//$sql = "CALL OBTENER_MORBILIDAD_SAPU('2019-07-31', '2019-08-02', 0);";
		$resultado = mysqli_query($bd,$sql);
		$count = mysqli_num_rows($resultado);
		if ($count == "0") {
			$data = array(
				"data" =>"0"
			);
		}else{
			while ($fila = mysqli_fetch_row($resultado)) {
				$data[$i] = array(
					"data" => "1",
					"1_1" =>$fila[0],
					"1_2" =>$fila[1],
					"1_3" =>$fila[2],
					"1_4" =>$fila[3],
					"1_5" =>$fila[4],
					"1_6" =>$fila[5],
					"2_1" =>$fila[6],
					"2_2" =>$fila[7],
					"2_3" =>$fila[8],
					"2_4" =>$fila[9],
					"2_5" =>$fila[10],
					"2_6" =>$fila[11],
					"3_1" =>$fila[12],
					"3_2" =>$fila[13],
					"3_3" =>$fila[14],
					"3_4" =>$fila[15],
					"3_5" =>$fila[16],
					"3_6" =>$fila[17],
					"4_1" =>$fila[18],
					"4_2" =>$fila[19],
					"4_3" =>$fila[20],
					"4_4" =>$fila[21],
					"4_5" =>$fila[22],
					"4_6" =>$fila[23],
					"5_1" =>$fila[24],
					"5_2" =>$fila[25],
					"5_3" =>$fila[26],
					"5_4" =>$fila[27],
					"5_5" =>$fila[28],
					"5_6" =>$fila[29],
					"6_1" =>$fila[30],
					"6_2" =>$fila[31],
					"6_3" =>$fila[32],
					"6_4" =>$fila[33],
					"6_5" =>$fila[34],
					"6_6" =>$fila[35],
					"7_1" =>$fila[36],
					"7_2" =>$fila[37],
					"7_3" =>$fila[38],
					"7_4" =>$fila[39],
					"7_5" =>$fila[40],
					"7_6" =>$fila[41],
					"8_1" =>$fila[42],
					"8_2" =>$fila[43],
					"8_3" =>$fila[44],
					"8_4" =>$fila[45],
					"8_5" =>$fila[46],
					"8_6" =>$fila[47],
					"9_1" =>$fila[48],
					"9_2" =>$fila[49],
					"9_3" =>$fila[50],
					"9_4" =>$fila[51],
					"9_5" =>$fila[52],
					"9_6" =>$fila[53],
					"10_1" =>$fila[54],
					"10_2" =>$fila[55],
					"10_3" =>$fila[56],
					"10_4" =>$fila[57],
					"10_5" =>$fila[58],
					"10_6" =>$fila[59],
					"11_1" =>$fila[60],
					"11_2" =>$fila[61],
					"11_3" =>$fila[62],
					"11_4" =>$fila[63],
					"11_5" =>$fila[64],
					"11_6" =>$fila[65],
					"12_1" =>$fila[66],
					"12_2" =>$fila[67],
					"12_3" =>$fila[68],
					"12_4" =>$fila[69],
					"12_5" =>$fila[70],
					"12_6" =>$fila[71],
					"13_1" =>$fila[72],
					"13_2" =>$fila[73],
					"13_3" =>$fila[74],
					"13_4" =>$fila[75],
					"13_5" =>$fila[76],
					"13_6" =>$fila[77],
					"14_1" =>$fila[78],
					"14_2" =>$fila[79],
					"14_3" =>$fila[80],
					"14_4" =>$fila[81],
					"14_5" =>$fila[82],
					"14_6" =>$fila[83],
					"15_1" =>$fila[84],
					"15_2" =>$fila[85],
					"15_3" =>$fila[86],
					"15_4" =>$fila[87],
					"15_5" =>$fila[88],
					"15_6" =>$fila[89],
					"16_1" =>$fila[90],
					"16_2" =>$fila[91],
					"16_3" =>$fila[92],
					"16_4" =>$fila[93],
					"16_5" =>$fila[94],
					"16_6" =>$fila[95],
					"17_1" =>$fila[96],
					"17_2" =>$fila[97],
					"17_3" =>$fila[98],
					"17_4" =>$fila[99],
					"17_5" =>$fila[100],
					"17_6" =>$fila[101],
					"18_1" =>$fila[102],
					"18_2" =>$fila[103],
					"18_3" =>$fila[104],
					"18_4" =>$fila[105],
					"18_5" =>$fila[106],
					"18_6" =>$fila[107],
					"19_1" =>$fila[108],
					"19_2" =>$fila[109],
					"19_3" =>$fila[110],
					"19_4" =>$fila[111],
					"19_5" =>$fila[112],
					"19_6" =>$fila[113],
					"20_1" =>$fila[114],
					"20_2" =>$fila[115],
					"20_3" =>$fila[116],
					"20_4" =>$fila[117],
					"20_5" =>$fila[118],
					"20_6" =>$fila[119],
					"21_1" =>$fila[120],
					"21_2" =>$fila[121],
					"21_3" =>$fila[122],
					"21_4" =>$fila[123],
					"21_5" =>$fila[124],
					"21_6" =>$fila[125],
					"22_1" =>$fila[126],
					"22_2" =>$fila[127],
					"22_3" =>$fila[128],
					"22_4" =>$fila[129],
					"22_5" =>$fila[130],
					"22_6" =>$fila[131],
					"23_1" =>$fila[132],
					"23_2" =>$fila[133],
					"23_3" =>$fila[134],
					"23_4" =>$fila[135],
					"23_5" =>$fila[136],
					"23_6" =>$fila[137],
					"24_1" =>$fila[138],
					"24_2" =>$fila[139],
					"24_3" =>$fila[140],
					"24_4" =>$fila[141],
					"24_5" =>$fila[142],
					"24_6" =>$fila[143],
					"25_1" =>$fila[144],
					"25_2" =>$fila[145],
					"25_3" =>$fila[146],
					"25_4" =>$fila[147],
					"25_5" =>$fila[148],
					"25_6" =>$fila[149],
					"26_1" =>$fila[150],
					"26_2" =>$fila[151],
					"26_3" =>$fila[152],
					"26_4" =>$fila[153],
					"26_5" =>$fila[154],
					"26_6" =>$fila[155],
					"27_1" =>$fila[156],
					"27_2" =>$fila[157],
					"27_3" =>$fila[158],
					"27_4" =>$fila[159],
					"27_5" =>$fila[160],
					"27_6" =>$fila[161],
					"28_1" =>$fila[162],
					"28_2" =>$fila[163],
					"28_3" =>$fila[164],
					"28_4" =>$fila[165],
					"28_5" =>$fila[166],
					"28_6" =>$fila[167],
					"29_1" =>$fila[168],
					"29_2" =>$fila[169],
					"29_3" =>$fila[170],
					"29_4" =>$fila[171],
					"29_5" =>$fila[172],
					"29_6" =>$fila[173],
					"30_1" =>$fila[174],
					"30_2" =>$fila[175],
					"30_3" =>$fila[176],
					"30_4" =>$fila[177],
					"30_5" =>$fila[178],
					"30_6" =>$fila[179],
					"31_1" =>$fila[180],
					"31_2" =>$fila[181],
					"31_3" =>$fila[182],
					"31_4" =>$fila[183],
					"31_5" =>$fila[184],
					"31_6" =>$fila[185],
					"32_1" =>$fila[186],
					"32_2" =>$fila[187],
					"32_3" =>$fila[188],
					"32_4" =>$fila[189],
					"32_5" =>$fila[190],
					"32_6" =>$fila[191],
					"33_1" =>$fila[192],
					"33_2" =>$fila[193],
					"33_3" =>$fila[194],
					"33_4" =>$fila[195],
					"33_5" =>$fila[196],
					"33_6" =>$fila[197],
					"34_1" =>$fila[198],
					"34_2" =>$fila[199],
					"34_3" =>$fila[200],
					"34_4" =>$fila[201],
					"34_5" =>$fila[202],
					"34_6" =>$fila[203],
					"35_1" =>$fila[204],
					"35_2" =>$fila[205],
					"35_3" =>$fila[206],
					"35_4" =>$fila[207],
					"35_5" =>$fila[208],
					"35_6" =>$fila[209],
					"36_1" =>$fila[210],
					"36_2" =>$fila[211],
					"36_3" =>$fila[212],
					"36_4" =>$fila[213],
					"36_5" =>$fila[214],
					"36_6" =>$fila[215],
					"37_1" =>$fila[216],
					"37_2" =>$fila[217],
					"37_3" =>$fila[218],
					"37_4" =>$fila[219],
					"37_5" =>$fila[220],
					"37_6" =>$fila[221],
					"38_1" =>$fila[222],
					"38_2" =>$fila[223],
					"38_3" =>$fila[224],
					"38_4" =>$fila[225],
					"38_5" =>$fila[226],
					"38_6" =>$fila[227]
				);
		  $i++;
		}//end while
		}//fin else
		return $data;
	}


	
}

?>